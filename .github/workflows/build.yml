name: build_test_deploy

on:
  push:

jobs:
  build-unix:
    runs-on: ubuntu-latest
    steps:
      - name: knock knock
        run: |
          pwd
          ls -lRt
      - uses: actions/checkout@v2
        with:
          repository: MiniZinc/libminizinc
      - name: Compilation libminizinc
        run: |
          pwd
          mkdir build
          cd build
          cmake ..
          cmake --build .
      - name: What is there
        run: |
          pwd
          ls -lRt
      - uses: actions/checkout@v2
        with:
          repository: Gecode/gecode
      - name: Building gecode
        uses: holishing/gfortran_autotool_action@2020.308.0
      - uses: actions/checkout@v2
        with:
          repository: chuffed/chuffed
      - name: CMake chuffed
        run: |
          pwd
          mkdir build
          cd build
          cmake ..
          cmake --build .
      - name: winding up
        run: |
          pwd
          ls -l
